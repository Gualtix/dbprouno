{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\diego\\\\OneDrive\\\\Desktop\\\\ayd2-aydisco-g3\\\\FrontEnd\\\\development\\\\src\\\\Components\\\\User\\\\User.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { withRouter } from \"react-router-dom\";\nimport Box from \"@material-ui/core/Box\";\nimport axios from \"axios\";\nimport { Form, FormGroup } from \"reactstrap\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport clsx from \"clsx\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport \"date-fns\";\nimport \"@rmwc/typography/styles\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Button } from \"@rmwc/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst serversAddr = require(\"../serversAddr\");\n\nconst shajs = require('sha.js');\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  colorCard: {\n    backgroundColor: \"#F7F7EF\",\n    borderColor: \"#ffffff\" //width: \"500px\",\n\n  },\n  colorCampo: {\n    backgroundColor: \"#FFFFFF\",\n    width: \"35ch\"\n  },\n  margin: {\n    margin: theme.spacing(1),\n    width: \"100%\",\n    justifyContent: \"center\"\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3)\n  },\n  textField: {\n    width: \"35ch\",\n    backgroundColor: \"#FFFFFF\"\n  },\n  tamAlert: {\n    width: \"200px\"\n  },\n  centrarContenido: {\n    textAlign: \"center\"\n  },\n  registrarse: {\n    textAlign: \"right\",\n    fontSize: 12\n  }\n}));\n\nconst Register = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const classes = useStyles();\n  const [valuesUser, setValues] = useState({\n    birthday: \"\",\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    showPassword: false,\n    showPasswordConfirm: false\n  });\n\n  const handleChange = prop => event => {\n    setValues({ ...valuesUser,\n      [prop]: event.target.value\n    });\n  };\n\n  const handleClickShowPassword = () => {\n    setValues({ ...valuesUser,\n      showPassword: !valuesUser.showPassword\n    });\n  };\n\n  const handleClickShowPasswordConfirm = () => {\n    setValues({ ...valuesUser,\n      showPasswordConfirm: !valuesUser.showPasswordConfirm\n    });\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const [refresh, setRefresh] = useState(false);\n\n  const handleClick = event => {\n    event.preventDefault();\n    let valido = true;\n\n    if (valuesUser.name === \"\") {\n      toast.warn(\"El Campo Apellidos es Obligatorio\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 5000\n      });\n      valido = false;\n    }\n\n    if (valuesUser.email === \"\") {\n      toast.warn(\"El Campo e-mail es Obligatorio\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 5000\n      });\n      valido = false;\n    }\n\n    if (valuesUser.birthday === \"\") {\n      toast.warn(\"El Campo fecha de nacimiento es obligatorio\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 5000\n      });\n      valido = false;\n    }\n\n    if (valuesUser.passwordConfirm !== valuesUser.password) {\n      toast.warn(\"Las Contraseñas no coinciden\", {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 5000\n      });\n      valido = false;\n    }\n\n    if (valido) {\n      // actualizar usuario\n      axios.post(\"http://\" + serversAddr.backend.host + \":\" + serversAddr.backend.port + \"/middleware\", {\n        peticion: \"/actualizar_usuario\",\n        server: 1,\n        data: {\n          nickname: localStorage.getItem(\"username\"),\n          nombre: valuesUser.name,\n          fechanacimiento: valuesUser.birthday,\n          email: valuesUser.email\n        }\n      }).then(response => {\n        // if user creation where succeed\n        if (response.data.updated !== undefined) {\n          //inicio sesion\n          toast.success(\"Se Actualizo su informacion correctamente\", {\n            position: toast.POSITION.TOP_RIGHT,\n            autoClose: 5000\n          });\n\n          if (valuesUser.password !== \"\") {\n            let passEncrypt = shajs(\"sha256\").update(valuesUser.password).digest(\"hex\");\n            axios.post(\"http://\" + serversAddr.backend.host + \":\" + serversAddr.backend.port + \"/middleware\", {\n              peticion: \"/actualizar_contrasenia\",\n              server: 1,\n              data: {\n                nickname: localStorage.getItem(\"username\"),\n                password: passEncrypt\n              }\n            }).then(response => {\n              if (response.data.updated !== undefined) {\n                //inicio sesion\n                toast.success(\"Se Actualizo su contraseña\", {\n                  position: toast.POSITION.TOP_RIGHT,\n                  autoClose: 5000\n                });\n              }\n            });\n          }\n        } else {\n          toast.error(\"Error: \" + response.data.error, {\n            position: toast.POSITION.TOP_RIGHT,\n            autoClose: 5000\n          });\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    async function getUsuario() {\n      await axios.post(\"http://\" + serversAddr.backend.host + \":\" + serversAddr.backend.port + \"/middleware\", {\n        peticion: \"/informacion_usuario\",\n        server: 1,\n        data: {\n          nickname: localStorage.getItem(\"username\")\n        }\n      }).then(response => {\n        console.log(response.data.fechanacimiento.substring(0, 10));\n\n        if (response.data.nombre !== undefined) {\n          setValues({\n            birthday: response.data.fechanacimiento.substring(0, 10),\n            name: response.data.nombre,\n            email: response.data.email,\n            password: \"\",\n            passwordConfirm: \"\",\n            showPassword: false,\n            showPasswordConfirm: false\n          });\n        }\n      });\n    }\n\n    getUsuario();\n    setRefresh(false);\n  }, [refresh]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"user-title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      m: 1,\n      p: 1,\n      bgcolor: \"#FFFFFF\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        variant: \"outlined\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: classes.colorCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              align: \"center\",\n              alt: \"imagen ususario iniciar sesi\\xF3n\",\n              src: \"/logIn.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: \"centered\",\n                width: \"300px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Perfil de Usuario:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            justifyContent: \"center\",\n            p: 1,\n            flexGrow: 1,\n            bgcolor: \"#F7F7EF\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleClick,\n              children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    label: \"name\",\n                    onChange: handleChange(\"name\"),\n                    required: true,\n                    id: \"outlined-required\",\n                    className: clsx(classes.margin, classes.textField),\n                    value: valuesUser.name,\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    label: \"e-mail\",\n                    onChange: handleChange(\"email\"),\n                    required: true,\n                    id: \"outlined-required\",\n                    className: clsx(classes.margin, classes.textField),\n                    value: valuesUser.email,\n                    variant: \"outlined\",\n                    type: \"email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"date\",\n                    className: clsx(classes.margin, classes.textField),\n                    type: \"date\",\n                    onChange: handleChange(\"birthday\"),\n                    value: valuesUser.birthday,\n                    require: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    className: clsx(classes.margin, classes.textField),\n                    variant: \"outlined\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      htmlFor: \"outlined-adornment-password\",\n                      children: \"Contrase\\xF1a\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                      id: \"outlined-adornment-password\",\n                      type: valuesUser.showPassword ? \"text\" : \"password\",\n                      value: valuesUser.password,\n                      onChange: handleChange(\"password\"),\n                      endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"end\",\n                        children: /*#__PURE__*/_jsxDEV(IconButton, {\n                          \"aria-label\": \"toggle password visibility\",\n                          onClick: handleClickShowPassword,\n                          onMouseDown: handleMouseDownPassword,\n                          edge: \"end\",\n                          children: valuesUser.showPassword ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 314,\n                            columnNumber: 33\n                          }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 316,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 27\n                      }, this),\n                      labelWidth: 70\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    className: clsx(classes.margin, classes.textField),\n                    variant: \"outlined\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      htmlFor: \"outlined-adornment-password\",\n                      children: \"Confirmar Contrase\\xF1a\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                      id: \"outlined-adornment-password\",\n                      type: valuesUser.showPasswordConfirm ? \"text\" : \"password\",\n                      value: valuesUser.passwordConfirm,\n                      onChange: handleChange(\"passwordConfirm\"),\n                      endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"end\",\n                        children: /*#__PURE__*/_jsxDEV(IconButton, {\n                          \"aria-label\": \"toggle password visibility\",\n                          onClick: handleClickShowPasswordConfirm,\n                          onMouseDown: handleMouseDownPassword,\n                          edge: \"end\",\n                          children: valuesUser.showPasswordConfirm ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 349,\n                            columnNumber: 33\n                          }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 351,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 342,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 27\n                      }, this),\n                      labelWidth: 70\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  className: clsx(classes.margin),\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    \"data-testid\": \"button-register\",\n                    variant: \"contained\",\n                    size: \"large\",\n                    style: {\n                      color: \"#FFFFFF\",\n                      backgroundColor: \"#0B78F4\",\n                      width: \"95%\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\"\n                    },\n                    onClick: handleClick,\n                    children: \"Actualizar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"Ryiy4J5HC9+fViZgwVpROsQI2og=\", false, function () {\n  return [useStyles];\n});\n\n_c = Register;\nexport default _c2 = withRouter(Register);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Register\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/diego/OneDrive/Desktop/ayd2-aydisco-g3/FrontEnd/development/src/Components/User/User.js"],"names":["React","useEffect","useState","Card","CardContent","withRouter","Box","axios","Form","FormGroup","TextField","makeStyles","OutlinedInput","InputLabel","InputAdornment","FormControl","Visibility","VisibilityOff","clsx","IconButton","toast","Button","serversAddr","require","shajs","useStyles","theme","root","display","flexWrap","colorCard","backgroundColor","borderColor","colorCampo","width","margin","spacing","justifyContent","withoutLabel","marginTop","textField","tamAlert","centrarContenido","textAlign","registrarse","fontSize","Register","history","classes","valuesUser","setValues","birthday","name","email","password","passwordConfirm","showPassword","showPasswordConfirm","handleChange","prop","event","target","value","handleClickShowPassword","handleClickShowPasswordConfirm","handleMouseDownPassword","preventDefault","refresh","setRefresh","handleClick","valido","warn","position","POSITION","TOP_RIGHT","autoClose","post","backend","host","port","peticion","server","data","nickname","localStorage","getItem","nombre","fechanacimiento","then","response","updated","undefined","success","passEncrypt","update","digest","error","getUsuario","console","log","substring","color","alignItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport axios from \"axios\";\r\nimport { Form, FormGroup } from \"reactstrap\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport clsx from \"clsx\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport \"date-fns\";\r\nimport \"@rmwc/typography/styles\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Button } from \"@rmwc/button\";\r\n\r\nconst serversAddr = require(\"../serversAddr\");\r\nconst shajs = require('sha.js');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  colorCard: {\r\n    backgroundColor: \"#F7F7EF\",\r\n    borderColor: \"#ffffff\",\r\n    //width: \"500px\",\r\n  },\r\n  colorCampo: {\r\n    backgroundColor: \"#FFFFFF\",\r\n    width: \"35ch\",\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n    width: \"100%\",\r\n    justifyContent: \"center\",\r\n  },\r\n  withoutLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  textField: {\r\n    width: \"35ch\",\r\n    backgroundColor: \"#FFFFFF\",\r\n  },\r\n  tamAlert: {\r\n    width: \"200px\",\r\n  },\r\n  centrarContenido: {\r\n    textAlign: \"center\",\r\n  },\r\n  registrarse: {\r\n    textAlign: \"right\",\r\n    fontSize: 12,\r\n  },\r\n}));\r\n\r\nconst Register = ({ history }) => {\r\n  const classes = useStyles();\r\n  const [valuesUser, setValues] = useState({\r\n    birthday: \"\",\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    passwordConfirm: \"\",\r\n    showPassword: false,\r\n    showPasswordConfirm: false,\r\n  });\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...valuesUser, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...valuesUser, showPassword: !valuesUser.showPassword });\r\n  };\r\n\r\n  const handleClickShowPasswordConfirm = () => {\r\n    setValues({\r\n      ...valuesUser,\r\n      showPasswordConfirm: !valuesUser.showPasswordConfirm,\r\n    });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault();\r\n    let valido = true;\r\n\r\n    if (valuesUser.name === \"\") {\r\n      toast.warn(\"El Campo Apellidos es Obligatorio\", {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n        autoClose: 5000,\r\n      });\r\n      valido = false;\r\n    }\r\n    if (valuesUser.email === \"\") {\r\n      toast.warn(\"El Campo e-mail es Obligatorio\", {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n        autoClose: 5000,\r\n      });\r\n      valido = false;\r\n    }\r\n    if (valuesUser.birthday === \"\") {\r\n      toast.warn(\"El Campo fecha de nacimiento es obligatorio\", {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n        autoClose: 5000,\r\n      });\r\n      valido = false;\r\n    }\r\n    if (valuesUser.passwordConfirm !== valuesUser.password) {\r\n      toast.warn(\"Las Contraseñas no coinciden\", {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n        autoClose: 5000,\r\n      });\r\n      valido = false;\r\n    }\r\n    if (valido) {\r\n      // actualizar usuario\r\n      axios\r\n        .post(\r\n          \"http://\" +\r\n          serversAddr.backend.host +\r\n          \":\" +\r\n          serversAddr.backend.port +\r\n          \"/middleware\",\r\n          {\r\n            peticion: \"/actualizar_usuario\",\r\n            server: 1,\r\n            data: {\r\n              nickname: localStorage.getItem(\"username\"),\r\n              nombre: valuesUser.name,\r\n              fechanacimiento: valuesUser.birthday,\r\n              email: valuesUser.email,\r\n            }\r\n          }\r\n        )\r\n        .then((response) => {\r\n          // if user creation where succeed\r\n          if (response.data.updated !== undefined) {\r\n            //inicio sesion\r\n            toast.success(\r\n              \"Se Actualizo su informacion correctamente\",\r\n              { position: toast.POSITION.TOP_RIGHT, autoClose: 5000 }\r\n            );\r\n\r\n            if (valuesUser.password !== \"\") {\r\n              let passEncrypt = shajs(\"sha256\")\r\n                .update(valuesUser.password)\r\n                .digest(\"hex\");\r\n              axios\r\n                .post(\r\n                  \"http://\" +\r\n                  serversAddr.backend.host +\r\n                  \":\" +\r\n                  serversAddr.backend.port +\r\n                  \"/middleware\",\r\n                  {\r\n                    peticion: \"/actualizar_contrasenia\",\r\n                    server: 1,\r\n                    data: {\r\n                      nickname: localStorage.getItem(\"username\"),\r\n                      password: passEncrypt,\r\n                    }\r\n                  }\r\n                )\r\n                .then((response) => {\r\n                  if (response.data.updated !== undefined) {\r\n                    //inicio sesion\r\n                    toast.success(\r\n                      \"Se Actualizo su contraseña\",\r\n                      { position: toast.POSITION.TOP_RIGHT, autoClose: 5000 }\r\n                    );\r\n                  }\r\n                });\r\n            }\r\n          } else {\r\n            toast.error(\"Error: \" + response.data.error, {\r\n              position: toast.POSITION.TOP_RIGHT,\r\n              autoClose: 5000,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getUsuario() {\r\n      await axios\r\n        .post(\r\n          \"http://\" +\r\n          serversAddr.backend.host +\r\n          \":\" +\r\n          serversAddr.backend.port +\r\n          \"/middleware\",\r\n          {\r\n            peticion: \"/informacion_usuario\",\r\n            server: 1,\r\n            data: {\r\n              nickname: localStorage.getItem(\"username\"),\r\n            }\r\n          }\r\n        )\r\n        .then((response) => {\r\n          console.log(response.data.fechanacimiento.substring(0, 10));\r\n          if (response.data.nombre !== undefined) {\r\n            setValues({\r\n              birthday: response.data.fechanacimiento.substring(0, 10),\r\n              name: response.data.nombre,\r\n              email: response.data.email,\r\n              password: \"\",\r\n              passwordConfirm: \"\",\r\n              showPassword: false,\r\n              showPasswordConfirm: false,\r\n            });\r\n          }\r\n        });\r\n    }\r\n\r\n    getUsuario();\r\n    setRefresh(false);\r\n  }, [refresh]);\r\n\r\n  return (\r\n    <div>\r\n      <div data-testid=\"user-title\"></div>\r\n      <Box display=\"flex\" justifyContent=\"center\" m={1} p={1} bgcolor=\"#FFFFFF\">\r\n        <Card variant=\"outlined\">\r\n          <CardContent className={classes.colorCard}>\r\n            <div align=\"center\">\r\n              <img\r\n                align=\"center\"\r\n                alt=\"imagen ususario iniciar sesión\"\r\n                src={\"/logIn.png\"}\r\n              />\r\n              <p style={{ textAlign: \"centered\", width: \"300px\" }}>\r\n                <strong>Perfil de Usuario:</strong>\r\n              </p>\r\n            </div>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              p={1}\r\n              flexGrow={1}\r\n              bgcolor=\"#F7F7EF\"\r\n            >\r\n              <Form onSubmit={handleClick}>\r\n                <FormGroup>\r\n                  <Box>\r\n                    <TextField\r\n                      label=\"name\"\r\n                      onChange={handleChange(\"name\")}\r\n                      required\r\n                      id=\"outlined-required\"\r\n                      className={clsx(classes.margin, classes.textField)}\r\n                      value={valuesUser.name}\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </Box>\r\n                  <Box>\r\n                    <TextField\r\n                      label=\"e-mail\"\r\n                      onChange={handleChange(\"email\")}\r\n                      required\r\n                      id=\"outlined-required\"\r\n                      className={clsx(classes.margin, classes.textField)}\r\n                      value={valuesUser.email}\r\n                      variant=\"outlined\"\r\n                      type=\"email\"\r\n                    />\r\n                  </Box>\r\n                  <Box>\r\n                    <input\r\n                      id=\"date\"\r\n                      className={clsx(classes.margin, classes.textField)}\r\n                      type=\"date\" onChange={handleChange(\"birthday\")}\r\n                      value={valuesUser.birthday}\r\n                      require\r\n                    />\r\n                  </Box>\r\n                  <Box>\r\n                    <FormControl\r\n                      className={clsx(classes.margin, classes.textField)}\r\n                      variant=\"outlined\"\r\n                    >\r\n                      <InputLabel htmlFor=\"outlined-adornment-password\">\r\n                        Contraseña\r\n                      </InputLabel>\r\n                      <OutlinedInput\r\n                        id=\"outlined-adornment-password\"\r\n                        type={valuesUser.showPassword ? \"text\" : \"password\"}\r\n                        value={valuesUser.password}\r\n                        onChange={handleChange(\"password\")}\r\n                        endAdornment={\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                              aria-label=\"toggle password visibility\"\r\n                              onClick={handleClickShowPassword}\r\n                              onMouseDown={handleMouseDownPassword}\r\n                              edge=\"end\"\r\n                            >\r\n                              {valuesUser.showPassword ? (\r\n                                <Visibility />\r\n                              ) : (\r\n                                <VisibilityOff />\r\n                              )}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        }\r\n                        labelWidth={70}\r\n                      />\r\n                    </FormControl>\r\n                  </Box>\r\n                  <Box>\r\n                    <FormControl\r\n                      className={clsx(classes.margin, classes.textField)}\r\n                      variant=\"outlined\"\r\n                    >\r\n                      <InputLabel htmlFor=\"outlined-adornment-password\">\r\n                        Confirmar Contraseña\r\n                      </InputLabel>\r\n                      <OutlinedInput\r\n                        id=\"outlined-adornment-password\"\r\n                        type={\r\n                          valuesUser.showPasswordConfirm ? \"text\" : \"password\"\r\n                        }\r\n                        value={valuesUser.passwordConfirm}\r\n                        onChange={handleChange(\"passwordConfirm\")}\r\n                        endAdornment={\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                              aria-label=\"toggle password visibility\"\r\n                              onClick={handleClickShowPasswordConfirm}\r\n                              onMouseDown={handleMouseDownPassword}\r\n                              edge=\"end\"\r\n                            >\r\n                              {valuesUser.showPasswordConfirm ? (\r\n                                <Visibility />\r\n                              ) : (\r\n                                <VisibilityOff />\r\n                              )}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        }\r\n                        labelWidth={70}\r\n                      />\r\n                    </FormControl>\r\n                  </Box>\r\n                  <Box className={clsx(classes.margin)}>\r\n                    <Button\r\n                      data-testid=\"button-register\"\r\n                      variant=\"contained\"\r\n                      size=\"large\"\r\n                      style={{\r\n                        color: \"#FFFFFF\",\r\n                        backgroundColor: \"#0B78F4\",\r\n                        width: \"95%\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                      onClick={handleClick}\r\n                    >\r\n                      Actualizar\r\n                    </Button>\r\n                  </Box>\r\n                </FormGroup>\r\n              </Form>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Register);\r\n"]},"metadata":{},"sourceType":"module"}